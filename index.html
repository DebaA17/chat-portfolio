<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot - Ask Me Anything</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "t4zllneb7x");
    </script>
     <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.3/dist/purify.min.js"></script>
    <style>
        * { box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0; 
            padding: 20px; 
            min-height: 100vh;
        }
        .chat-container { 
            max-width: 600px; 
            margin: 0 auto; 
            background: #fff; 
            border-radius: 12px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
            overflow: hidden;
        }
        .chat-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        .chat-header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
        }
        .chat-header p {
            margin: 5px 0 0 0;
            opacity: 0.9;
            font-size: 14px;
        }
        .chat-log { 
            height: 400px; 
            overflow-y: auto; 
            padding: 20px; 
            background: #f8f9fa;
        }
        .chat-message { 
            margin: 15px 0; 
            display: flex;
            align-items: flex-start;
        }
        .message-content {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.4;
        }
        .user-message {
            justify-content: flex-end;
        }
        .user-message .message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-left: auto;
        }
        .bot-message .message-content {
            background: white;
            color: #333;
            border: 1px solid #e1e5e9;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .bot-message .message-content strong {
            color: #4facfe;
            font-weight: 600;
        }
        .bot-message .message-content em {
            font-style: italic;
            color: #666;
        }
        .bot-message .message-content a {
            color: #4facfe;
            text-decoration: none;
            font-weight: 500;
        }
        .bot-message .message-content a:hover {
            text-decoration: underline;
            color: #2193dd;
        }
        .input-container { 
            padding: 20px; 
            background: white;
            border-top: 1px solid #e1e5e9;
        }
        .input-row { 
            display: flex; 
            gap: 12px;
        }
        input[type="text"] { 
            flex: 1; 
            padding: 12px 16px; 
            border-radius: 25px; 
            border: 2px solid #e1e5e9; 
            outline: none;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        input[type="text"]:focus {
            border-color: #4facfe;
        }
        button { 
            padding: 12px 24px; 
            border: none; 
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white; 
            border-radius: 25px; 
            cursor: pointer; 
            font-weight: 600;
            transition: transform 0.2s ease;
        }
        button:hover { 
            transform: translateY(-2px);
        }
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            font-style: italic;
        }
        .typing-dots {
            display: flex;
            gap: 3px;
        }
        .typing-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #4facfe;
            animation: typing 1.4s infinite ease-in-out;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h1>ðŸ¤– AI Chatbot</h1>
            <p style="color:#b71c1c;font-weight:bold;font-size:16px;">This chatbot is currently under development or temporarily unavailable.<br>Please check back later!</p>
            <div id="user-meta" style="margin-top:12px;font-size:13px;color:#222;background:rgba(255,255,255,0.7);border-radius:8px;padding:8px 16px;display:inline-block;box-shadow:0 2px 8px #eee;">
                <span id="meta-ip">IP: Detecting...</span> | <span id="meta-browser">Browser: Detecting...</span> | <span id="meta-os">OS: Detecting...</span>
            </div>
        </div>
        <div class="chat-log" id="chat-log">
            <div class="chat-message bot-message">
                <div class="message-content">
                    ðŸ‘‹ Hello! I'm your AI assistant. I can tell you about Debasis (the developer) or help you with general questions like math, explanations, coding help, and more. What would you like to know?
                </div>
            </div>
        </div>
        <div class="input-container">
            <div style="text-align:center; color:#b71c1c; font-weight:bold; font-size:16px; padding:24px 0;">
                ðŸš§ This chatbot is currently under development or temporarily unavailable.<br>Please check back later!
            </div>
        </div>
    </div>

    <script>
        const chatLog = document.getElementById('chat-log');
        const chatForm = document.getElementById('chat-form');
        const userInput = document.getElementById('user-input');
        const sendButton = document.getElementById('send-button');

        function appendMessage(isUser, text) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${isUser ? 'user-message' : 'bot-message'}`;
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content'; 
            if (isUser) { 
                contentDiv.textContent = text;
            } else {
                // For bot messages, check if text contains ANY HTML tags
                const hasHTMLTags = /<[^>]*>/g.test(text);
                if (hasHTMLTags) {
                   contentDiv.innerHTML = DOMPurify.sanitize(text);
                } else {
                    contentDiv.textContent = text;
                }
            }            
            messageDiv.appendChild(contentDiv);
            chatLog.appendChild(messageDiv);
            chatLog.scrollTop = chatLog.scrollHeight;
        }

        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'chat-message bot-message';
            typingDiv.id = 'typing-indicator';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content typing-indicator';
            contentDiv.innerHTML = `
                <span>AI is thinking</span>
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            
            typingDiv.appendChild(contentDiv);
            chatLog.appendChild(typingDiv);
            chatLog.scrollTop = chatLog.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }



        // User meta info
        function getOS() {
            const ua = navigator.userAgent;
            if (ua.indexOf('Win') !== -1) return 'Windows';
            if (ua.indexOf('Mac') !== -1) return 'MacOS';
            if (ua.indexOf('Linux') !== -1) return 'Linux';
            if (ua.indexOf('Android') !== -1) return 'Android';
            if (ua.indexOf('like Mac') !== -1) return 'iOS';
            return 'Unknown';
        }
        function getBrowser() {
            const ua = navigator.userAgent;
            if (ua.indexOf('Firefox') !== -1) return 'Firefox';
            if (ua.indexOf('Edg') !== -1) return 'Edge';
            if (ua.indexOf('Chrome') !== -1) return 'Chrome';
            if (ua.indexOf('Safari') !== -1) return 'Safari';
            if (ua.indexOf('Opera') !== -1 || ua.indexOf('OPR') !== -1) return 'Opera';
            return 'Unknown';
        }
        document.getElementById('meta-os').textContent = 'OS: ' + getOS();
        document.getElementById('meta-browser').textContent = 'Browser: ' + getBrowser();
        fetch('https://api.ipify.org?format=json')
            .then(res => res.json())
            .then(data => {
                document.getElementById('meta-ip').textContent = 'IP: ' + data.ip;
            })
            .catch(() => {
                document.getElementById('meta-ip').textContent = 'IP: Your browser blocked IP API';
            });
    </script>
</body>
</html>
